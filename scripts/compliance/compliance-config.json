{
  "claudeMdHash": "3af30c89a9dde2223021871e73adb09d3cf000572092e9906e852717e060b16d",
  "lastSync": "2025-10-09T14:09:53.799Z",
  "validatorConfig": {
    "version": "1.0.0",
    "lastUpdated": "2025-10-09T14:09:53.799Z",
    "rules": {
      "timezone": {
        "enabled": true,
        "disabledReason": null,
        "violationCount": 0,
        "patterns": {
          "forbidden": [
            "new Date()",
            "Date.now()"
          ],
          "allowed": [
            "nowUTC()",
            "nowSAST()",
            "parseUTC()",
            "startOfDaySAST()",
            "endOfDaySAST()",
            "formatSAST()"
          ]
        },
        "allowedFiles": [
          "timezone.ts",
          "env/server.ts"
        ],
        "severity": "ERROR",
        "reference": "/docs/compliance/TIMEZONE-GUIDELINES.md"
      },
      "typeSafety": {
        "enabled": true,
        "patterns": {
          "forbidden": [
            "as any",
            "@ts-ignore"
          ]
        },
        "allowedFiles": [
          "src/lib/auth.ts",
          "src/server/trpc.ts",
          "src/types/guards.ts"
        ],
        "severity": "ERROR",
        "reference": "/docs/compliance/TYPE-SAFETY.md"
      },
      "logging": {
        "enabled": true,
        "patterns": {
          "forbidden": [
            "console.log",
            "console.error",
            "console.warn"
          ]
        },
        "phiSanitization": {
          "email": "sanitizeEmail",
          "phone": "sanitizePhone",
          "name": "sanitizeName",
          "userId": "sanitizeUserId",
          "providerId": "sanitizeProviderId"
        },
        "allowedFiles": [
          "logger.ts",
          "env/server.ts",
          "audit.ts",
          "debug.ts"
        ],
        "severity": "ERROR",
        "reference": "/docs/compliance/LOGGING.md"
      },
      "architecture": [
        {
          "name": "HOOKS_EXPORT_TYPES",
          "pattern": {},
          "message": "Hooks MUST NOT export types. Move types to api-types.ts",
          "applies": "/hooks/",
          "severity": "ERROR"
        },
        {
          "name": "DB_QUERY_OUTSIDE_TRPC",
          "pattern": {},
          "message": "Database queries ONLY allowed in tRPC procedures",
          "applies": "!/routers/",
          "severity": "ERROR"
        },
        {
          "name": "CROSS_FEATURE_IMPORT",
          "pattern": {},
          "message": "Cross-feature imports are FORBIDDEN",
          "applies": "/features/",
          "severity": "ERROR"
        },
        {
          "name": "MISSING_ZOD_VALIDATION",
          "pattern": {},
          "message": "tRPC procedures should have .input() Zod commit_gate",
          "applies": "/routers/",
          "severity": "WARNING"
        }
      ],
      "business": [
        {
          "name": "BOOKING_WITHOUT_TRANSACTION",
          "pattern": {},
          "requiresPattern": {},
          "message": "Booking operations should use transactions to prevent double-booking",
          "applies": "/routers/",
          "severity": "WARNING"
        },
        {
          "name": "UNBOUNDED_QUERY",
          "pattern": {},
          "requiresPattern": {},
          "message": "findMany() must have take: limit for pagination",
          "applies": "/routers/",
          "severity": "ERROR"
        }
      ],
      "images": {
        "enabled": true,
        "patterns": {
          "forbidden": [
            "<img"
          ],
          "allowed": [
            "<Image"
          ]
        },
        "applies": "*.tsx",
        "severity": "ERROR",
        "reference": "DEVELOPER-PRINCIPLES.md Section 15 - Component Development"
      },
      "stateManagement": {
        "enabled": true,
        "patterns": {
          "forbidden": [
            "from 'redux'",
            "from 'zustand'",
            "from 'recoil'",
            "from 'jotai'",
            "createContext(",
            "useContext("
          ]
        },
        "applies": "/features/",
        "severity": "ERROR",
        "reference": "DEVELOPER-PRINCIPLES.md Section 16 - State Management"
      },
      "procedureTypes": {
        "enabled": true,
        "applies": "/routers/",
        "severity": "ERROR",
        "reference": "DEVELOPER-PRINCIPLES.md Section 13 - Authentication & Authorization"
      },
      "apiPatterns": {
        "enabled": true,
        "rules": [
          {
            "name": "MULTIPLE_QUERIES_PER_ENDPOINT",
            "message": "Use single query with include or transaction",
            "severity": "WARNING"
          },
          {
            "name": "AUTH_CHECK_ORDER",
            "message": "Authorization checks should come BEFORE business logic",
            "severity": "WARNING"
          }
        ],
        "applies": "/routers/",
        "reference": "DEVELOPER-PRINCIPLES.md Section 14 - API Development"
      },
      "security": {
        "enabled": true,
        "patterns": {
          "forbidden": [
            "dangerouslySetInnerHTML",
            "innerHTML =",
            "eval("
          ]
        },
        "severity": "ERROR",
        "reference": "DEVELOPER-PRINCIPLES.md Section 19 - Security Standards"
      },
      "performance": {
        "enabled": true,
        "rules": [
          {
            "name": "API_CALL_IN_LOOP",
            "message": "API calls inside loops are forbidden",
            "severity": "ERROR"
          },
          {
            "name": "MISSING_MEMOIZATION",
            "message": "Large components should use memoization",
            "severity": "WARNING"
          },
          {
            "name": "MISSING_CACHE_CONFIG",
            "message": "GET requests should have cache configuration",
            "severity": "WARNING"
          }
        ],
        "applies": "*.tsx",
        "reference": "DEVELOPER-PRINCIPLES.md Section 18 - Performance Standards"
      },
      "forms": {
        "enabled": true,
        "rules": [
          {
            "name": "MISSING_REACT_HOOK_FORM",
            "message": "Forms must use React Hook Form",
            "severity": "ERROR"
          },
          {
            "name": "MISSING_ZOD_RESOLVER",
            "message": "React Hook Form must use zodResolver",
            "severity": "ERROR"
          },
          {
            "name": "MISSING_ZOD_SCHEMA",
            "message": "Form should have Zod schema",
            "severity": "WARNING"
          },
          {
            "name": "USE_NATIVE_ENUM",
            "message": "Use z.nativeEnum(PrismaEnum) instead of z.enum()",
            "severity": "WARNING"
          }
        ],
        "applies": "/components/",
        "reference": "DEVELOPER-PRINCIPLES.md Section 17 - Form Handling"
      }
    }
  },
  "eslintConfig": {
    "rules": {
      "rulesdir/no-new-date": "error"
    }
  },
  "docsAlignment": {
    "referencedDocs": [
      "guides/DEVELOPER-PRINCIPLES.md",
      "compliance/CONTEXT-LOADING.md",
      "compliance/TYPE-SAFETY.md",
      "compliance/VERIFICATION-PROTOCOLS.md",
      "compliance/TIMEZONE-GUIDELINES.md",
      "compliance/LOGGING.md",
      "compliance/BUG-DETECTION.md",
      "compliance/DEVELOPMENT-WORKFLOW.md",
      "compliance/COMPLIANCE-SYSTEM.md",
      "compliance/CLAUDE-MD-AUTO-SYNC.md",
      "compliance/DEPLOYMENT.md"
    ],
    "orphanedDocs": [
      "guides/ACTIONABLE-WARNINGS-IMPLEMENTATION.md",
      "guides/DOCS-VALIDATION-GUIDE.md"
    ],
    "lastValidated": "2025-10-09T14:09:53.799Z"
  }
}