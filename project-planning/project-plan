# MedBookings MVP Project Plan

## Clean up from previous code

- [x] Remove all types built on Prisma/Zod
- [x] Remove all references for headless UI
- [x] Implement side bar dashboard layout
- [x] Implement loading page throughout app
- [x] Implement TanStack Query as the default pattern for interacting with the database

## User Authentication & Profile Management

- [x] Implement Google OAuth login integration
- [x] Create secure authentication flow with Google credentials
- [x] Design and implement user profile page
- [x] Build profile edit/update functionality
- [ ] Add profile image upload capability (with option to use Google profile image)
- [ ] Implement user roles system (guest, user, provider, organization manager, admin)

## Service Provider Management

- [x] Create provider registration flow
- [x] Edit basic info provider profile
- [x] Edit services in provider profile
- [x] Edit regulatory submission in provider profile
- [x] Create a Cancel button on top right of Provider Edit Form
- [ ] Implement Google Calendar connection during provider registration
- [ ] Add Google Meet integration for virtual appointments
- [ ] Set up email sync permissions for notifications
- [x] Design provider profile edit interface
- [x] Implement provider specialization and services selection
- [ ] Build provider approval workflow for admins
- [ ] Create provider dashboard
- [ ] Design provider public profile page for guests/users to view
- [ ] Implement provider search and filtering

## Organization Management

- [x] Build organization creation interface
- [x] Implement organization profile management
- [ ] Create organization manager role assignment
- [ ] Design organization approval workflow for admins
- [ ] Build organization dashboard
- [ ] Implement organization public profile for guests/users to view
- [ ] Create organization search and filtering
- [ ] Build workflow for organizations and providers to become associated with one another

## Location Management

- [x] Design location creation interface for organizations
- [x] Implement location details management (address, contact info, services)
- [ ] Create location service assignment functionality
- [ ] Implement location search with geolocation support

## Availability Management

- [ ] Design provider availability interface. Ability for provider to schedule availability.
- [ ] Design organization availability interface. Ability for an organization to generate an availability request which will be sent to a provider to accept.
- [ ] Implement recurring availability patterns. This should be done by specifying the recurrence schedule (weekly, daily, custom) and then generating individual availability occurrences but with a availability series id so that individual availabilities can be changed and the series of availabilities can also be changed or deleted.
- [ ] Create organization-level availability management for providers
- [ ] Implement location-specific availability settings
- [ ] Design availability visualization calendar for providers.
- [ ] Design availability visualization calendar for organizations to see availability of multiple providers and make sure that all required hours are covered by sufficient providers.
- [ ] Availability should essentially be defined by
      -- [ ] start time
      -- [ ] end time
      -- [ ] service types (along with price and duration values)
      -- [ ] location and/or online
      -- [ ] automated confirmation or confirmation required
      -- [ ] billing entity defined by rules (availability at organizations changed by organization billing and provider alone billing charged to provider billing)
- [ ] Once an availability is created it should result in the appropriate Availability slots which are calculated once and then managed. There needs to be rules relating how availability slots interact with each other but essentially any availability slot which gets books and overlaps at any time with other availability slots will result in both slots being BOOKED or INVALID

## Booking System

- [ ] Create booking slot generation based on availability
- [ ] Implement booking creation workflow for guests/users
- [ ] Build booking confirmation and notification system
- [ ] Design booking management for providers
- [ ] Implement booking management for organization managers
- [ ] Create booking modification and cancellation flows
- [ ] Build booking history views

## Calendar Integration

- [ ] Research and implement Google Calendar API integration
- [ ] Build OAuth flow for Google Calendar authorization
- [ ] Implement bidirectional sync for provider availability
- [ ] Create bidirectional sync for bookings
- [ ] Handle calendar conflict resolution
- [ ] Implement webhook listeners for external calendar changes
- [ ] Design fallback mechanisms for sync failures

## Admin Dashboard

- [ ] Create admin dashboard interface
- [ ] Implement provider approval management
- [ ] Build organization approval workflow
- [ ] Design system-wide analytics and reporting
- [ ] Implement user management functionality
- [ ] Create configuration settings interface

## Multi-provider Views & Management

- [ ] Design organization diary views showing multiple providers
- [ ] Implement filtering by provider type/specialization
- [ ] Build time-slot allocation across providers
- [ ] Create resource management functionality
- [ ] Implement team availability visualization

## Email Communications

- [ ] Set up email service integration
- [ ] Create email templates for registration, verification
- [ ] Implement booking confirmation emails
- [ ] Build reminder notification system
- [ ] Create cancellation and modification communications
- [ ] Implement organization invitation emails
- [ ] Design HTML email templates with branding

## WhatsApp Communications

- [ ] Research and implement WhatsApp Business API integration
- [ ] Set up WhatsApp templates for booking confirmations
- [ ] Create WhatsApp reminder notification system
- [ ] Implement booking modification and cancellation alerts via WhatsApp
- [ ] Build opt-in/opt-out functionality for WhatsApp communications
- [ ] Design fallback to email when WhatsApp delivery fails
- [ ] Create WhatsApp template approval workflow

## Infrastructure & Technical Foundation

- [ ] Set up project repository and CI/CD pipeline
- [ ] Configure database schema and migrations
- [ ] Implement role-based access control system
- [ ] Design and build reusable UI component library
- [ ] Create responsive layouts for mobile and desktop
- [ ] Set up logging, monitoring and error reporting
- [ ] Implement secure API architecture
- [ ] Design global state management solution

## Testing

- [ ] Write unit tests for critical components
- [ ] Implement integration tests for main workflows
- [ ] Create end-to-end tests for key user journeys
- [ ] Perform security testing and vulnerability assessment
- [ ] Conduct performance testing and optimization

## Deployment

- [ ] Configure staging environment
- [ ] Set up production environment
- [ ] Implement database backup strategy
- [ ] Create deployment automation
- [ ] Set up monitoring and alerts
- [ ] Implement SSL/TLS security

## Documentation

- [ ] Create user documentation and help guides
- [ ] Write technical documentation for developers
- [ ] Build API documentation for integrations
- [ ] Create onboarding guides for different user types

## Nice to haves

- [ ] Change the database structure of provider type to include an icon. Drive all provider type fields such as landing page search from database. Make it so that it displays the top provider types by availability. All provider types throughout app will be driven from database.
- [ ] Implement ability for a provider to configure their min availability slot and all availability slots must be multiples of this min availability slot. Enable the ability to manage multiple services in a single calendar.

## Ad hoc tasks

- [ ] Implement status labels throughout the entire project
- [ ] Improve Navigation within Admin Dashboard
- [ ] Implement breadcrumbs in Dashboard
- [ ] Update information shown in provider and organization admin views
- [ ] Figure out why there is no loading when a button is clicked sometimes.
- [ ] Figure out top margin or padding in Dashboard layout views.
- [ ] Make side bar in view by default.
- [ ] Resolve sidebar mobile view.
- [ ] Update sidebar navigation.
- [ ] URL parameters not filtering into Admin providers and organizations pages. <http://localhost:3000/admin/providers?status=PENDING>

## Issues to resolve

- [ ] Location creation doesn't save GP coordinates. Works on location update but not creation.
- [ ] Implement button loading spinner throughout app
- [ ] Provider onboarding layout... long form... some weird issue with two vertical scrolling windows. Quite annoying.
- [ ] Admin organization doesn't display location well.
- [ ] Dashboard navigation when not ADMIN. Can't get a list of providers or see yourself in sidebar menu
- [ ] Personal Profile should reflect Role
